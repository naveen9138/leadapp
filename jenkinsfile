pipeline{
 agent{
  node{
   label 'ec2-rhel-node'
   customWorkspace '/test1'
  }
 }
 stages{
  stage (create){
   steps{
     sh 'mkdir /test1'
   }
  }
  stage (build){
   steps{
     tool name: 'mvn3.5.4', type: 'maven'
     sh 'mvn clean'
	}
	}
  stage (mvn compile){
    steps {
       tool name: 'mvn3.5.4', type: 'maven'
       sh 'mvn compile'
	 }
     }
  stage (test){
   steps {
    tool name: 'mvn3.5.4', type: 'maven'
    sh 'mvn package'
   }
  }
  stage (install){
   steps {
    tool name: 'mvn3.5.4', type: 'maven'
    sh 'mvn install'
   }
  }
 }
} 
